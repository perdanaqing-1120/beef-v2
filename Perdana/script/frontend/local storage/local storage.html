<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        #root {
            background-color: #0d1c27;
            color: white;
            font-size: 2em;
            min-height: 100dvh;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <div id="root">
        <div>
            <span id="pembuka">
                <h2>Selamat Datang di Halaman Login</h2>
                <h3>Silahkan Masukkan Username dan Password</h3>
            </span>

            <button onclick="onLogin()" id='loginButton' disabled>LOGIN</button>
            <button onclick="onLogout()" id='logoutButton'>LOGOUT</button>
            <input type="text" placeholder="username" id='usernameInput' />
            <input type="password" placeholder="password" id='passwordInput' />
        </div>
        <br/>
        <br/>
        <h3 id="owner">login sebagai owner</h3>
        <h3 id="coOwner">login sebagai co-owner</h3>
        <h3 id="standar">login sebagai user</h3>
        <h3 id="guest">login sebagai tamu</h3>
    </div>

    <script type="application/javascript">
        
        let usernameInput = document.getElementById('usernameInput')
        let passwordInput = document.getElementById('passwordInput')
        let loginButton = document.getElementById('loginButton')
        let logoutButton = document.getElementById('logoutButton')
        
        owner.style.display = "none"
        coOwner.style.display = "none"
        standar.style.display = "none"
        guest.style.display = "none"
        logoutButton.style.display = "none"

        usernameInput.addEventListener('input', checkInputs);
        passwordInput.addEventListener('input', checkInputs);
        
        function checkInputs() {
            loginButton.disabled = !(usernameInput.value && passwordInput.value)
        }
        
        function onLogin() {
            console.log('aktifLogin')
            console.log(passwordInput.value)
            console.log(usernameInput.value)
            localStorage.setItem("username", usernameInput.value)
            
            if(usernameInput.value == "Perdana" && passwordInput.value == "1234") {
                localStorage.setItem("role","owner")

                owner.style.display = "block"
                coOwner.style.display = "none"
                guest.style.display = "none"
                standar.style.display = "none"
                pembuka.style.display = "none"
                
                logoutButton.style.display = "block"
                loginButton.style.display = "none"
                
                usernameInput.style.display = "none"
                passwordInput.style.display = "none"
                
                root.style.backgroundColor = "#800080"
                
            } else if(usernameInput.value == "Dzul" && passwordInput.value == "1234") {
                localStorage.setItem("role","coOwner")
                
                owner.style.display = "none"
                coOwner.style.display = "block"
                guest.style.display = "none"
                standar.style.display = "none"
                pembuka.style.display = "none"
                
                logoutButton.style.display = "block"
                loginButton.style.display = "none"
                
                usernameInput.style.display = "none"
                passwordInput.style.display = "none"
                
                root.style.backgroundColor = "#ff0000"
                
            } else {
                localStorage.setItem("role","basic")
                
                standar.style.display = "block"
                owner.style.display = "none"
                coOwner.style.display = "none"
                guest.style.display = "none"
                pembuka.style.display = "none"
                
                logoutButton.style.display = "block"
                loginButton.style.display = "none"
                
                usernameInput.style.display = "none"
                passwordInput.style.display = "none"
            }
        }
        
        function onLogout() {
            console.log('aktifLogout')
            localStorage.clear()
            
            owner.style.display = "none"
            coOwner.style.display = "none"
            standar.style.display = "none"
            guest.style.display = "none"
            pembuka.style.display = "block"
            
            logoutButton.style.display = "none"
            loginButton.style.display = "block"
            
            usernameInput.style.display = "block"
            passwordInput.style.display = "block"
            
            root.style.backgroundColor = "#0d1c27"
        }
        
        if(localStorage.getItem('username')){
            usernameInput.style.display = "none"
            passwordInput.style.display = "none"

            loginButton.style.display = "none"
            
            if(localStorage.getItem('role') == "owner"){
                standar.style.display = "none"
                guest.style.display = "none"
                owner.style.display = "block"
                coOwner.style.display = "none"

                logoutButton.style.display = "block"
                
            }if(localStorage.getItem('role') == "coOwner"){
                owner.style.display = "none"
                standar.style.display = "none"
                guest.style.display = "none"
                coOwner.style.display = "block"

                logoutButton.style.display = "block"


            }if(localStorage.getItem('role') == "basic") {
                owner.style.display = "none"
                guest.style.display = "none"
                standar.style.display = "block"
                coOwner.style.display = "none"

                logoutButton.style.display = "block"
            }
        }

    </script>
</body>
</html>    